<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF è½¬ Markdown è½¬æ¢å™¨</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <div class="container">
            <header class="header">
                <h1>PDF è½¬ Markdown è½¬æ¢å™¨</h1>
                <p class="subtitle">å°†æ‚¨çš„PDFæ–‡ä»¶å¿«é€Ÿè½¬æ¢ä¸ºMarkdownæ ¼å¼</p>
            </header>

            <main class="main-content">
                <!-- æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ -->
                <section class="upload-section">
                    <h2>é€‰æ‹©PDFæ–‡ä»¶</h2>
                    <div class="upload-area" 
                         :class="{ 'drag-over': isDragOver }"
                         @dragover.prevent="handleDragOver"
                         @dragleave.prevent="handleDragLeave"
                         @drop.prevent="handleDrop">
                        
                        <input type="file" 
                               id="pdfUpload" 
                               accept=".pdf" 
                               @change="handleFileSelect"
                               style="display: none;">
                        
                        <div v-if="!selectedFile" class="upload-placeholder">
                            <div class="upload-icon">ğŸ“„</div>
                            <p>æ‹–æ‹½PDFæ–‡ä»¶åˆ°æ­¤å¤„ï¼Œæˆ–è€…</p>
                            <button class="select-file-btn" @click="triggerFileSelect">é€‰æ‹©æ–‡ä»¶</button>
                        </div>
                        
                        <div v-else class="file-selected">
                            <div class="file-info">
                                <span class="file-icon">ğŸ“„</span>
                                <span class="file-name">{{ selectedFile.name }}</span>
                                <span class="file-size">({{ formatFileSize(selectedFile.size) }})</span>
                            </div>
                            <button class="change-file-btn" @click="clearFile">æ›´æ¢æ–‡ä»¶</button>
                        </div>
                    </div>
                    
                    <button class="convert-btn" 
                            :disabled="!selectedFile || isConverting"
                            @click="convertToMarkdown">
                        <span v-if="isConverting">è½¬æ¢ä¸­...</span>
                        <span v-else>è½¬æ¢ä¸º Markdown</span>
                    </button>
                </section>

                <!-- Markdownè¾“å‡ºåŒºåŸŸ -->
                <section class="output-section">
                    <h2>è½¬æ¢ç»“æœ</h2>
                    
                    <!-- å›¾ç‰‡ä¿¡æ¯æ˜¾ç¤º - å·²éšè— -->
                    <!--
                    <div v-if="imageCount > 0" class="image-info">
                        <div class="image-header">
                            <h3>ğŸ“· æå–çš„å›¾ç‰‡ ({{ imageCount }} å¼ )</h3>
                            <button class="download-all-images-btn" @click="downloadAllImages">
                                ä¸‹è½½æ‰€æœ‰å›¾ç‰‡
                            </button>
                        </div>
                        <div class="image-list">
                            <div v-for="image in extractedImages" :key="image.filename" class="image-item">
                                <div class="image-info-left">
                                    <span class="image-name">{{ image.filename }}</span>
                                    <span class="image-details">ç¬¬{{ image.page }}é¡µ - {{ image.width }}Ã—{{ image.height }}</span>
                                </div>
                                <button class="download-single-image-btn" 
                                        :class="{ 'downloaded': isImageDownloaded(image.filename) }"
                                        @click="downloadImage(image)">
                                    {{ isImageDownloaded(image.filename) ? 'å·²ä¸‹è½½' : 'ä¸‹è½½' }}
                                </button>
                            </div>
                        </div>
                    </div>
                    -->
                    
                    <div class="output-area">
                        <textarea v-model="markdownContent" 
                                  readonly 
                                  placeholder="æ‚¨è½¬æ¢çš„ Markdown å°†åœ¨æ­¤å¤„æ˜¾ç¤º..."
                                  class="markdown-output"></textarea>
                        
                        <div class="output-actions">
                            <!-- åªä¿ç•™ä¸‹è½½å‹ç¼©åŒ…æŒ‰é’® -->
                            <button class="download-zip-btn full-width-btn" 
                                    :disabled="!markdownContent"
                                    @click="downloadZipPackage">
                                ä¸‹è½½è½¬æ¢ç»“æœ(å«å›¾ç‰‡)
                            </button>
                        </div>
                    </div>
                </section>

                <!-- é”™è¯¯æ¶ˆæ¯æ˜¾ç¤º -->
                <div v-if="errorMessage" class="error-message">
                    <span class="error-icon">âš ï¸</span>
                    <span>{{ errorMessage }}</span>
                    <button class="close-error" @click="clearError">Ã—</button>
                </div>
            </main>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html> 