<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF ËΩ¨ Markdown ËΩ¨Êç¢Âô®</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <div class="container">
            <header class="header">
                <h1>PDF ËΩ¨ Markdown ËΩ¨Êç¢Âô®</h1>
                <p class="subtitle">Â∞ÜÊÇ®ÁöÑPDFÊñá‰ª∂Âø´ÈÄüËΩ¨Êç¢‰∏∫MarkdownÊ†ºÂºè</p>
            </header>

            <main class="main-content">
                <!-- Êñá‰ª∂‰∏ä‰º†Âå∫Âüü -->
                <section class="upload-section">
                    <h2>ÈÄâÊã©PDFÊñá‰ª∂</h2>
                    <div class="upload-area" 
                         :class="{ 'drag-over': isDragOver }"
                         @dragover.prevent="handleDragOver"
                         @dragleave.prevent="handleDragLeave"
                         @drop.prevent="handleDrop">
                        
                        <input type="file" 
                               id="pdfUpload" 
                               accept=".pdf" 
                               @change="handleFileSelect"
                               style="display: none;">
                        
                        <div v-if="!selectedFile" class="upload-placeholder">
                            <div class="upload-icon">üìÑ</div>
                            <p>ÊãñÊãΩPDFÊñá‰ª∂Âà∞Ê≠§Â§ÑÔºåÊàñËÄÖ</p>
                            <button class="select-file-btn" @click="triggerFileSelect">ÈÄâÊã©Êñá‰ª∂</button>
                        </div>
                        
                        <div v-else class="file-selected">
                            <div class="file-info">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-name">{{ selectedFile.name }}</span>
                                <span class="file-size">({{ formatFileSize(selectedFile.size) }})</span>
                            </div>
                            <button class="change-file-btn" @click="clearFile">Êõ¥Êç¢Êñá‰ª∂</button>
                        </div>
                    </div>
                    
                    <button class="convert-btn" 
                            :disabled="!selectedFile || isConverting"
                            @click="convertToMarkdown">
                        <span v-if="isConverting">ËΩ¨Êç¢‰∏≠...</span>
                        <span v-else>ËΩ¨Êç¢‰∏∫ Markdown</span>
                    </button>
                </section>

                <!-- MarkdownËæìÂá∫Âå∫Âüü -->
                <section class="output-section">
                    <h2>ËΩ¨Êç¢ÁªìÊûú</h2>
                    
                    <!-- ÂõæÁâá‰ø°ÊÅØÊòæÁ§∫ -->
                    <div v-if="imageCount > 0" class="image-info">
                        <div class="image-header">
                            <h3>üì∑ ÊèêÂèñÁöÑÂõæÁâá ({{ imageCount }} Âº†)</h3>
                            <button class="download-all-images-btn" @click="downloadAllImages">
                                ‰∏ãËΩΩÊâÄÊúâÂõæÁâá
                            </button>
                        </div>
                        <div class="image-list">
                            <div v-for="image in extractedImages" :key="image.filename" class="image-item">
                                <div class="image-info-left">
                                    <span class="image-name">{{ image.filename }}</span>
                                    <span class="image-details">Á¨¨{{ image.page }}È°µ - {{ image.width }}√ó{{ image.height }}</span>
                                </div>
                                <button class="download-single-image-btn" 
                                        :class="{ 'downloaded': isImageDownloaded(image.filename) }"
                                        @click="downloadImage(image)">
                                    {{ isImageDownloaded(image.filename) ? 'Â∑≤‰∏ãËΩΩ' : '‰∏ãËΩΩ' }}
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="output-area">
                        <textarea v-model="markdownContent" 
                                  readonly 
                                  placeholder="ÊÇ®ËΩ¨Êç¢ÁöÑ Markdown Â∞ÜÂú®Ê≠§Â§ÑÊòæÁ§∫..."
                                  class="markdown-output"></textarea>
                        
                        <div class="output-actions">
                            <button class="copy-btn" 
                                    :disabled="!markdownContent"
                                    @click="copyToClipboard">
                                {{ copyButtonText }}
                            </button>
                            
                            <button class="download-btn" 
                                    :disabled="!markdownContent"
                                    @click="downloadMarkdown">
                                ‰∏ãËΩΩ .md Êñá‰ª∂
                            </button>
                            
                            <button class="download-package-btn" 
                                    :disabled="!markdownContent"
                                    @click="downloadCompletePackage">
                                ‰∏ãËΩΩÂÆåÊï¥ÂåÖ
                            </button>
                        </div>
                    </div>
                </section>

                <!-- ÈîôËØØÊ∂àÊÅØÊòæÁ§∫ -->
                <div v-if="errorMessage" class="error-message">
                    <span class="error-icon">‚ö†Ô∏è</span>
                    <span>{{ errorMessage }}</span>
                    <button class="close-error" @click="clearError">√ó</button>
                </div>
            </main>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html> 